name: strategy_v2
components:
  orderflow:
    ofi_align:
      lookback: 18
      z_min: 0.7
  regime:
    atr: {n: 14, z_trend_min: 0.2}
    adx: {n: 14, thr: 22, min_persist: 10}
  signal:
    macd:
      fast: 12
      slow: 26
      signal: 9
    denoise: wavelet_l1
    smoothing: {ema_span: 0}
    weights: {macd: 0.6, ofi: 0.4}
  exits:
    mode: dynamic_atr
    atr:
      n: 14
      tp_mult: {trend: 2.0, range: 1.2}
      sl_mult: {trend: 1.0, range: 0.8}
      cap_bps: {tp_min: 8, tp_max: 120, sl_min: 6, sl_max: 90}
  costs: {fee_bps_per_side: 10, slippage_bps_per_side: 2, funding_bps_estimate: 0.5}
  gating:
    conviction:
      # default persistence m/k; runner prefers params.entry.persistence
      # if these differ from conf/params_champion.yml a warning is printed; params overrides spec
      persistence: {m: 6, k: 4}
      hysteresis: {thr_entry: 0.88, thr_exit: 0.82}
      ev_gate: {mode: probability, ev_margin_bps: 2.0, alpha_cost: 1.0}
    calibration:
      p_thr:
        trend: 0.80
        range: 0.83
artifacts: [summary.json, gating_debug.json, preds_test.csv, trades.csv]
notes: |
  스펙은 구조만 정의. 문턱/게이팅 수치는 conf/params_champion.yml에서만 관리.
